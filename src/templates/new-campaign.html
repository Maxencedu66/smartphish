{% extends "index.html" %}

{% block title %}Nouvelle Campagne - SmartPhish{% endblock %}

{% block content %}
<h2>üì© Nouvelle Campagne</h2>

<div>
    <form id="phishingForm">
        <label for="scenario">Choisissez un sc√©nario :</label>
        <select id="scenario" name="scenario" onchange="updateFormFields()">
            <option value="">-- S√©lectionnez --</option>
            <option value="D√©part √† la retraite">D√©part √† la retraite</option>
            <option value="Erreur de paiement - RIB n√©cessaire">Erreur de paiement - RIB n√©cessaire</option>
            <option value="Alerte de s√©curit√© - Connexion suspecte">Alerte de s√©curit√© - Connexion suspecte</option>
        </select>

        <div id="additionalFields" style="display: none;">
            <label for="entreprise">Nom de l'entreprise :</label>
            <input type="text" id="entreprise" name="entreprise">

            <label for="expediteur">Nom de l'exp√©diteur :</label>
            <input type="text" id="expediteur" name="expediteur">

            <label for="email_expediteur">Email exp√©diteur :</label>
            <input type="text" id="email_expediteur" name="email_expediteur">
        </div>

        <button type="button" onclick="generateEmail()">G√©n√©rer l'email</button>
    </form>

    <div id="loading" style="display: none;">
        <p>G√©n√©ration en cours...</p>
        <div class="loader"></div>
    </div>

    <div id="emailResult" style="display: none;">
        <h2>Email g√©n√©r√©</h2>
        <textarea id="generatedEmailObject" rows="1" cols="60"></textarea>
        <br>
        <textarea id="generatedEmailContent" rows="15" cols="60"></textarea>
        <br>
        <button class="validate" onclick="lancement()">Valider</button>
        <button class="regenerate" onclick="generateEmail()">R√©g√©n√©rer</button>
        <button class="reset" onclick="resetForm()">üóë R√©initialiser</button>
    </div>
</div>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>

{% endblock %}